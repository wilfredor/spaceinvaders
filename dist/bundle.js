(()=>{"use strict";var e,t,i={913:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Config=void 0;var i=function(){function e(){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.game=document.getElementById("game"),this.mouseX=0,this.canvas.setAttribute("width","800"),this.canvas.setAttribute("height","500"),this.canvas.setAttribute("style","position:absolute;top:23px;"),this.game.appendChild(this.canvas),this.level=1,this.score=0,this.life=3}return Object.defineProperty(e.prototype,"level",{get:function(){return this._level},set:function(e){this._level=e,this.setLabel("level",String(e))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"life",{get:function(){return this._life},set:function(e){this._life=e,this.setLabel("life",String(e))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"score",{get:function(){return this._score},set:function(e){this._score=e,this.setLabel("score",String(e))},enumerable:!1,configurable:!0}),e.prototype.setLabel=function(e,t){var i=document.getElementById(e);null!==i&&(i.textContent=t)},e}();t.Config=i},749:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Enemies=void 0;var n=i(624),o=i(594),s=function(){function e(e,t,i){this.config=i,this.reset(),this.nave=t,this.game=e,this.initEnemies(),this.move()}return e.prototype.reset=function(){this.x=0,this.y=0,this.width=30,this.height=30,this.element=[],this.enemiesType=[]},e.prototype.removeEnemies=function(){this.config.context.clearRect(0,0,this.config.canvas.width,this.config.canvas.height-(this.nave.height+9))},e.prototype.remove=function(e){var t,i;null===(t=this.element)||void 0===t||t.splice(e,1),this.config.score++,0===(null===(i=this.element)||void 0===i?void 0:i.length)&&(this.game.showMessage("You win"),this.removeEnemies(),this.config.level++,this.reset())},e.prototype.initEnemies=function(){for(var e=[],t=0;t<=2;t++)e[t]=new Image,e[t].src="images/enemies".concat(t,".svg");var i=0,o=this.config.canvas.width-this.width,s=2*this.width,h=this.config.canvas.height-this.height;for(t=this.x+this.width;t<=o;t+=s)for(var c=0,r=this.y;r<=h/2+h/6;r+=2*this.height){var a=new n.Enemy(t,r,i,e[c],this);this.element.push(a),i++,c<e.length-1&&c++}this.enemyFire(1e3)},e.prototype.paint=function(){this.removeEnemies();for(var e=0;e<=this.element.length-1;e++)this.element[e].paint();return!0},e.prototype.moveXY=function(e){if(!this.game.paused){this.removeEnemies();for(var t=this.element.length-1,i=0;i<=t;i++)if(null!==e?this.element[i].x+=e?-this.element[i].width:this.element[i].width:this.element[i].y+=this.height/5,this.element[i].paint(),this.element[i].y>=this.config.canvas.height-3*this.nave.height)return this.game.showMessage("You are dead"),window.location.reload(),!1}return!0},e.prototype.moveX=function(e,t){var i=this;setTimeout((function(){i.moveXY(e)&&(e=i.game.paused?e:!e,i.moveX(e,t))}),t)},e.prototype.moveY=function(e){var t=this;setTimeout((function(){t.moveXY(null)&&t.moveY(e)}),e)},e.prototype.enemyFire=function(e){var t=this;setTimeout((function(){var i=o.Tool.randomRange(0,t.element.length-1);t.element[i]&&t.element[i].fire(),t.enemyFire(e)}),e)},e.prototype.move=function(){this.moveX(!0,800),this.moveY(8e3*Number(this.config.level))},e.prototype.checkColision=function(e,t,i,n){for(var o=e,s=t,h=e+i,c=t+n,r=this.element.length,a=0;a<=r;a++)if(this.element[a]){var f=this.element[a].x,l=this.element[a].y,u=this.element[a].x+this.element[a].width,m=this.element[a].y+this.element[a].height;if((m<=c&&m>=s||l>=s&&l<=c)&&(o>=f&&o<=u||h<=u&&h>=f))return console.log("killed ".concat(a)),this.remove(a),!0}return!1},e}();t.Enemies=s},624:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Enemy=void 0;var i=function(){function e(e,t,i,n,o){this.width=o.width,this.height=o.height,this.x=e,this.y=t,this.index=i,this.img=n,this.enemies=o,this.game=this.enemies.game,this.config=this.enemies.config,this.paint()}return e.prototype.paint=function(){this.config.context.drawImage(this.img,this.x,this.y,this.width,this.height)},e.prototype.Obstruction=function(){for(var e=this.enemies.element.length-1,t=0;t<=e;t++)if(this.enemies.element[t].x==this.x&&this.enemies.element[t].index>this.index)return!0;return!1},e.prototype.fire=function(){this.game.paused||this.directionFire(this.x,this.y,this)},e.prototype.directionFire=function(e,t,i){var n=this;setTimeout((function(){t<=n.config.canvas.height-20?(n.config.context.fillStyle="#FF0000",n.config.context.clearRect(e,t-20,3,9),n.config.context.fillRect(e,t,3,9),n.config.context.fillStyle="#7fff00",i.directionFire(e,t+20,i)):e>=n.enemies.nave.x&&e<=n.enemies.nave.x+n.width?(n.enemies.nave.life--,n.config.life=n.enemies.nave.life,n.enemies.nave.life<=0?(n.game.showMessage("You are dead"),setTimeout((function(){window.location.reload()}),3e3)):1===n.enemies.nave.life&&alert("You have only "+n.enemies.nave.life+" life")):n.config.context.clearRect(e,t-20,3,9)}),30)},e}();t.Enemy=i},769:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Game=void 0;var i=function(){function e(e){this.paused=!1,this.config=e}return e.prototype.showMessage=function(e){var t=this;this.paused=!0;var i=this.config.canvas.width/2,n=this.config.canvas.height/2;this.config.context.font="30px Courier New",this.config.context.fillStyle="white",this.config.context.fill(),this.config.context.textAlign="center",this.config.context.fillText(e,i,n),"Pause"!=e&&setTimeout((function(){t.paused=!1}),3e3)},e.prototype.pause=function(e){e&&this.showMessage("Pause"),this.paused=e},e}();t.Game=i},861:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Nave=void 0;var n=i(749),o=i(769),s=function(){function e(e){var t=this;this.width=50,this.height=20,this.shots=0,this.maxshots=3,this.x=0,this.life=e.life,this.y=e.canvas.height-this.height,this.GAME=new o.Game(e),this.enemies=new n.Enemies(this.GAME,this,e),this.config=e,this.paint(),window.onkeydown=function(e){t.move(e)},window.onmousedown=function(){t.fire()},window.onmousemove=function(e){t.move(e)}}return e.prototype.fire=function(){if(!this.GAME.paused&&this.shots<=this.maxshots){this.shots++;var e=this.x+25,t=this.config.canvas.height-60;this.directionFire(e,t)}},e.prototype.directionFire=function(e,t){var i=this;t<=-20&&(this.shots=0),setTimeout((function(){t>=-20&&(i.config.context.clearRect(e,t+20,2,12),i.config.context.fillRect(e,t,2,12),i.enemies.checkColision(e,t,7,12)&&(t=-5,i.enemies.paint()),i.directionFire(e,t-20))}),30)},e.prototype.paint=function(){this.config.context.fillStyle="#7fff00",this.config.context.clearRect(0,this.config.canvas.height-(this.height+this.height/2),this.config.canvas.width,this.config.canvas.height),this.config.context.fillRect(this.x,this.y,this.width,this.height),this.config.context.fillRect(this.x+24,this.config.canvas.height-30,3,5),this.config.context.clearRect(this.x-4,this.config.canvas.height-27,7,12),this.config.context.fillRect(this.x+22,this.config.canvas.height-25,7,12),this.config.context.clearRect(this.x+this.width-3,this.config.canvas.height-27,7,12)},e.prototype.moveLeft=function(e){this.x-=this.width/e,this.x<=-this.width&&(this.x=this.config.canvas.width-this.width),this.paint()},e.prototype.moveRight=function(e){this.x+=this.width/e,this.x>=this.config.canvas.width&&(this.x=0),this.paint()},e.prototype.move=function(e){if(e instanceof KeyboardEvent&&"KeyP"==e.code&&this.GAME.pause(!this.GAME.paused),!this.GAME.paused)if(e instanceof MouseEvent){var t=e.clientX+document.body.scrollLeft;this.config.mouseX>t&&this.moveLeft(5),this.config.mouseX<t&&this.moveRight(5),this.config.mouseX!=t&&(this.config.mouseX=t)}else e instanceof KeyboardEvent&&(console.log(e.code),"ArrowLeft"==e.code?this.moveLeft(2):"ArrowRight"==e.code?this.moveRight(2):"ControlLeft"!=e.code&&"Space"!=e.code||this.fire())},e}();t.Nave=s},594:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Tool=void 0;var i=function(){function e(){}return e.randomRange=function(e,t){return 5*Math.round((Math.random()*(t-e)+e)/5)},e}();t.Tool=i}},n={};function o(e){var t=n[e];if(void 0!==t)return t.exports;var s=n[e]={exports:{}};return i[e](s,s.exports,o),s.exports}e=o(913),t=o(861),window.onload=function(){new t.Nave(new e.Config)}})();